<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="interface  method の一覧を定義する型． 型に method を実装することによって，interface を実装する． interface を明示的に宣言する必要はない． この定義と実装を切り離していることを暗黙のインターフェースという．  interface をこのような実装にした理由の1つは，同じインターフェースを実装する異なる構造体を，新たな型として定義できるから．    interface value  インターフェースの値は，下のような値と具体的な型のタプルのように考えることができる． (value, type)  インターフェースの値は，特定の基底になる具体的な型の値を保持する． インターフェースの値のメソッドを呼び出すと，その基底型の同じ名前のメソッドが実行される． インターフェース自体の中にある具体的な値が nil の場合，メソッドは nil をレシーバーとして呼び出される．  具体的な値として nil を保持するインターフェースの値それ自体は非 nil である．    nil interface  nil interface の値は，値も具体的な型も保持しない．  nil interface には呼び出す具体的なメソッドを示す型がタプル内に存在しないため，nil interface のメソッドを呼び出すと，ランタイムエラーになる．    empty interface  empty interface は0個のメソッドを指定されたインターフェースのこと． empty interface は，任意のかたの値を保持できる． 全ての型は，少なくとも0個のメソッドを実装している．  type assertion  type assersion は，interface の値の基になる具体的な値を利用する手段を提供する． t := i."><meta property="og:title" content><meta property="og:description" content="interface  method の一覧を定義する型． 型に method を実装することによって，interface を実装する． interface を明示的に宣言する必要はない． この定義と実装を切り離していることを暗黙のインターフェースという．  interface をこのような実装にした理由の1つは，同じインターフェースを実装する異なる構造体を，新たな型として定義できるから．    interface value  インターフェースの値は，下のような値と具体的な型のタプルのように考えることができる． (value, type)  インターフェースの値は，特定の基底になる具体的な型の値を保持する． インターフェースの値のメソッドを呼び出すと，その基底型の同じ名前のメソッドが実行される． インターフェース自体の中にある具体的な値が nil の場合，メソッドは nil をレシーバーとして呼び出される．  具体的な値として nil を保持するインターフェースの値それ自体は非 nil である．    nil interface  nil interface の値は，値も具体的な型も保持しない．  nil interface には呼び出す具体的なメソッドを示す型がタプル内に存在しないため，nil interface のメソッドを呼び出すと，ランタイムエラーになる．    empty interface  empty interface は0個のメソッドを指定されたインターフェースのこと． empty interface は，任意のかたの値を保持できる． 全ての型は，少なくとも0個のメソッドを実装している．  type assertion  type assersion は，interface の値の基になる具体的な値を利用する手段を提供する． t := i."><meta property="og:type" content="article"><meta property="og:url" content="https://solareenlo.com/docs/go/interface/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2021-06-28T03:08:26+09:00"><title>Interface | solareenlo</title><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.e80d0e54115ef090f688943719b0c54d1ce5720639cefab6c880b93a94108e5f.css integrity="sha256-6A0OVBFe8JD2iJQ3GbDFTRzlcgY5zvq2yIC5OpQQjl8="><script defer src=/en.search.min.ec2a34e96026dce629afbe6a8e3a9092f03e8542fdfefadbb196b08df87f31df.js integrity="sha256-7Co06WAm3OYpr75qjjqQkvA+hUL9/vrbsZawjfh/Md8="></script></head><body><input type=checkbox class=hidden id=menu-control><main class="container flex"><aside class=book-menu><nav><h2 class=book-brand><a href=/><span>solareenlo</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><a href=/go/docs/go><strong>Go</strong></a><ul><li><a href=/go/docs/go/vim-go>vim-go</a></li><li><a href=/go/docs/go/declaration>declaration</a></li><li><a href=/go/docs/go/slice>slice</a></li><li><a href=/go/docs/go/closure>closure</a></li><li><a href=/go/docs/go/method-receiver>method & receiver</a></li><li><a href=/go/docs/go/interface>interface</a></li></ul></li></ul><ul><li><a href=https://github.com/solareenlo/go target=_blank rel=noopener>Github</a></li></ul></nav><script>(function(){var a=document.querySelector("aside.book-menu nav");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Interface</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><input type=checkbox class=hidden id=toc-control><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#interface>interface</a></li><li><a href=#interface-value>interface value</a><ul><li><a href=#nil-interface>nil interface</a></li><li><a href=#empty-interface>empty interface</a></li><li><a href=#type-assertion>type assertion</a></li><li><a href=#type-switch>type switch</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=interface>interface</h1><ul><li>method の一覧を定義する型．</li><li>型に method を実装することによって，interface を実装する．</li><li>interface を明示的に宣言する必要はない．</li><li>この定義と実装を切り離していることを暗黙のインターフェースという．<ul><li>interface をこのような実装にした理由の1つは，同じインターフェースを実装する異なる構造体を，新たな型として定義できるから．</li></ul></li></ul><h1 id=interface-value>interface value</h1><ul><li>インターフェースの値は，下のような値と具体的な型のタプルのように考えることができる．<div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#719e07>(</span>value, <span style=color:#b58900>type</span><span style=color:#719e07>)</span>
</code></pre></div></li><li>インターフェースの値は，特定の基底になる具体的な型の値を保持する．</li><li>インターフェースの値のメソッドを呼び出すと，その基底型の同じ名前のメソッドが実行される．</li><li>インターフェース自体の中にある具体的な値が nil の場合，メソッドは nil をレシーバーとして呼び出される．<ul><li>具体的な値として nil を保持するインターフェースの値それ自体は非 nil である．</li></ul></li></ul><h2 id=nil-interface>nil interface</h2><ul><li>nil interface の値は，値も具体的な型も保持しない．<ul><li>nil interface には呼び出す具体的なメソッドを示す型がタプル内に存在しないため，nil interface のメソッドを呼び出すと，ランタイムエラーになる．</li></ul></li></ul><h2 id=empty-interface>empty interface</h2><ul><li>empty interface は0個のメソッドを指定されたインターフェースのこと．</li><li>empty interface は，任意のかたの値を保持できる．</li><li>全ての型は，少なくとも0個のメソッドを実装している．</li></ul><h2 id=type-assertion>type assertion</h2><ul><li>type assersion は，interface の値の基になる具体的な値を利用する手段を提供する．<div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>t <span style=color:#719e07>:=</span> i.(T)
</code></pre></div><ul><li>上の文は，interface の値 i が具体的な型 T を保持し，基になる型 T の値を変数 t に代入することを主張する．</li><li>i が T を保持していない場合，上の文は panic を引き起こす．</li></ul></li><li>interface の値が特定の型を保持しているかどうかをテストするために，type assersion は2つの値を返すことができる．<ul><li>2つの値とは，基になる値とアサーションが成功したかどうかを報告するブール値．</li></ul><div class=highlight><pre style=color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go>t, ok <span style=color:#719e07>:=</span> i.(T)
</code></pre></div><ul><li>i が T を保持していれば，t は基になる値になり，ok は true になる．</li><li>そうでなければ，t は型 T のゼロ値になり，ok は false になる．この時は panic は起きない．</li></ul></li></ul><h2 id=type-switch>type switch</h2><ul><li>type switch はいくつかの type assersion を直列に使用できる構造になっている．</li><li>type swithc の case は型を指定し，type switch の値は指定された interface の値が保持する値の型と比較される．</li></ul></article><footer class=book-footer><div class="flex justify-between"><div><a class="flex align-center" href=https://github.com/solareenlo/go/commit/b5d385ba56c9d2ea8e7336d6cb4fe649180f73bb title="Last modified by solareenlo | Jun 27, 2021" target=_blank rel=noopener><img src=/svg/calendar.svg class=book-icon alt=Calendar>
<span>Jun 27, 2021</span></a></div><div><a class="flex align-center" href=https://github.com/solareenlo/go/edit/master/content/docs/go/interface.md target=_blank rel=noopener><img src=/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><nav id=TableOfContents><ul><li><a href=#interface>interface</a></li><li><a href=#interface-value>interface value</a><ul><li><a href=#nil-interface>nil interface</a></li><li><a href=#empty-interface>empty interface</a></li><li><a href=#type-assertion>type assertion</a></li><li><a href=#type-switch>type switch</a></li></ul></li></ul></nav></aside></main></body></html>